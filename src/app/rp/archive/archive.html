<section fxFill fxLayout="column">

    <title-bar></title-bar>

    <div id="pager" fxLayout="row" fxLayoutAlign="center center">

        <button mat-icon-button [disabled]="!(hasPrevPage$|async)" [routerLink]="'../1'">
            <mat-icon aria-label="First page" matTooltip="First page">first_page</mat-icon>
        </button>

        <button mat-icon-button [disabled]="!(hasPrevPage$|async)" [routerLink]="['..',(pageNum$|async)-1]">
            <mat-icon aria-label="Previous page" matTooltip="Previous page">navigate_before</mat-icon>
        </button>

        Page {{pageNum$|async}}

        <button mat-icon-button [disabled]="!(hasNextPage$|async)" [routerLink]="['..',(pageNum$|async)+1]">
            <mat-icon aria-label="Next page" matTooltip="Next page">navigate_next</mat-icon>
        </button>

        <button mat-icon-button [disabled]="!(hasNextPage$|async)" [routerLink]="['..',(pageCount$|async)]">
            <mat-icon aria-label="Last page" matTooltip="Last page">last_page</mat-icon>
        </button>
    </div>

    <!-- https://stackoverflow.com/questions/14962468/flexbox-and-vertical-scroll-in-a-full-height-app-using-newer-flexbox-api -->
    <div class="flex-scroll-container" style="padding: 10px 10px 20px">
        <ng-container *ngFor="let msg of (messages$|async); trackBy: rp.trackById">
            <rp-message [msg]="msg"></rp-message>
        </ng-container>
    </div>

</section>
